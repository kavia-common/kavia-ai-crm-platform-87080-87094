{"is_source_file": true, "format": "Python", "description": "Defines Pydantic models for deal-related data structures in a CRM platform, including base deal info, creation, updates, and output models.", "external_files": ["src/db/models"], "external_methods": [], "published": ["DealBase", "DealCreate", "DealUpdate", "DealOut"], "classes": [{"name": "DealBase", "description": "Base model for deal data including fields like name, amount, close date, related account/contact, pipeline and stage IDs, and status."}, {"name": "DealCreate", "description": "Model for creating a new deal, inherits from DealBase."}, {"name": "DealUpdate", "description": "Model for updating an existing deal, all fields optional."}, {"name": "DealOut", "description": "Model for outputting deal data, includes additional id and created_at fields."}], "methods": [], "calls": [], "search-terms": ["DealBase", "DealCreate", "DealUpdate", "DealOut", "Pydantic", "CRM", "deals.py", "deal schema"], "state": 2, "file_id": 11, "knowledge_revision": 24, "git_revision": "", "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "DealOut", "scopeKind": "class"}, {"_type": "tag", "name": "DealBase", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^class DealBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DealCreate", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^class DealCreate(DealBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DealOut", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^class DealOut(DealBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DealUpdate", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^class DealUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "account_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    account_id: Optional[int] = Field(None, description=\"Related account\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "account_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    account_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    amount: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    amount: float = Field(0.0, ge=0.0, description=\"Deal amount\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "close_date", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    close_date: Optional[date] = Field(None, description=\"Expected close date\")$/", "language": "Python", "typeref": "typename:Optional[date]", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "close_date", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    close_date: Optional[date] = None$/", "language": "Python", "typeref": "typename:Optional[date]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "contact_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    contact_id: Optional[int] = Field(None, description=\"Primary contact\")$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "contact_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    contact_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "DealOut.Config", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    name: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    name: str = Field(..., description=\"Deal name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "pipeline_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    pipeline_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "pipeline_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    pipeline_id: int = Field(..., description=\"Pipeline ID\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "stage_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    stage_id: Optional[int] = None$/", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "stage_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    stage_id: int = Field(..., description=\"Stage ID within pipeline\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    status: DealStageStatus = Field(default=DealStageStatus.open, description=\"Deal status\")$/", "language": "Python", "typeref": "typename:DealStageStatus", "kind": "variable", "scope": "DealBase", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/schemas/deals.py", "pattern": "/^    status: Optional[DealStageStatus] = None$/", "language": "Python", "typeref": "typename:Optional[DealStageStatus]", "kind": "variable", "scope": "DealUpdate", "scopeKind": "class"}], "hash": "f04f1c269d104e15a229c6e8dae2e683", "format-version": 4, "code-base-name": "crm_backend", "filename": "crm_backend/src/schemas/deals.py", "fields": [{"name": "Optional[int] account_id", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] amount", "scope": "DealUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "float amount", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[date] close_date", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] contact_id", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "DealOut.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] name", "scope": "DealUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] pipeline_id", "scope": "DealUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "int pipeline_id", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] stage_id", "scope": "DealUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "int stage_id", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "DealStageStatus status", "scope": "DealBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[DealStageStatus] status", "scope": "DealUpdate", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"24": ""}]}