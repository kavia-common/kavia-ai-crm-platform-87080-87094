{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing data pipelines and their stages in a FastAPI application. It includes CRUD operations for pipelines and stages, utilizing service layers and database sessions.", "external_files": ["src/db/session.py", "src/schemas/pipelines.py", "src/services/pipelines.py"], "external_methods": ["get_session", "pipeline_service.list", "pipeline_service.create", "pipeline_service.get", "pipeline_service.update", "pipeline_service.delete", "pipeline_stage_service.list_for_pipeline", "pipeline_stage_service.create", "pipeline_stage_service.get", "pipeline_stage_service.update", "pipeline_stage_service.delete"], "published": ["router"], "classes": [], "methods": [{"name": "list_pipelines(page: int = Query(1, ge=1), size: int = Query(20, ge=1, le=100))", "description": "Handles GET request to list all pipelines with pagination.", "scope": "", "scopeKind": ""}, {"name": "create_pipeline(payload: PipelineCreate)", "description": "Handles POST request to create a new pipeline.", "scope": "", "scopeKind": ""}, {"name": "get_pipeline(pipeline_id: int)", "description": "Handles GET request to retrieve a pipeline by its ID.", "scope": "", "scopeKind": ""}, {"name": "update_pipeline(pipeline_id: int, payload: PipelineUpdate)", "description": "Handles PUT request to update an existing pipeline.", "scope": "", "scopeKind": ""}, {"name": "delete_pipeline(pipeline_id: int)", "description": "Handles DELETE request to remove a pipeline.", "scope": "", "scopeKind": ""}, {"name": "list_stages(pipeline_id: int)", "description": "Handles GET request to list stages associated with a specific pipeline.", "scope": "", "scopeKind": ""}, {"name": "create_stage(payload: PipelineStageCreate)", "description": "Handles POST request to create a new stage within a pipeline.", "scope": "", "scopeKind": ""}, {"name": "update_stage(stage_id: int, payload: PipelineStageUpdate)", "description": "Handles PUT request to update an existing pipeline stage.", "scope": "", "scopeKind": ""}, {"name": "delete_stage(stage_id: int)", "description": "Handles DELETE request to remove a pipeline stage.", "scope": "", "scopeKind": ""}], "calls": ["get_session()", "pipeline_service.list()", "pipeline_service.create()", "pipeline_service.get()", "pipeline_service.update()", "pipeline_service.delete()", "pipeline_stage_service.list_for_pipeline()", "pipeline_stage_service.create()", "pipeline_stage_service.get()", "pipeline_stage_service.update()", "pipeline_stage_service.delete()"], "search-terms": ["pipelines", "pipeline stages API", "FastAPI pipeline CRUD", "pipeline_service", "pipeline_stage_service"], "state": 2, "file_id": 22, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def create_pipeline(payload: PipelineCreate):$/", "language": "Python", "kind": "function", "signature": "(payload: PipelineCreate)"}, {"_type": "tag", "name": "create_stage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def create_stage(payload: PipelineStageCreate):$/", "language": "Python", "kind": "function", "signature": "(payload: PipelineStageCreate)"}, {"_type": "tag", "name": "delete_pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def delete_pipeline(pipeline_id: int):$/", "language": "Python", "kind": "function", "signature": "(pipeline_id: int)"}, {"_type": "tag", "name": "delete_stage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def delete_stage(stage_id: int):$/", "language": "Python", "kind": "function", "signature": "(stage_id: int)"}, {"_type": "tag", "name": "get_pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def get_pipeline(pipeline_id: int):$/", "language": "Python", "kind": "function", "signature": "(pipeline_id: int)"}, {"_type": "tag", "name": "list_pipelines", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def list_pipelines(page: int = Query(1, ge=1), size: int = Query(20, ge=1, le=100)):$/", "language": "Python", "kind": "function", "signature": "(page: int = Query(1, ge=1), size: int = Query(20, ge=1, le=100))"}, {"_type": "tag", "name": "list_stages", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def list_stages(pipeline_id: int):$/", "language": "Python", "kind": "function", "signature": "(pipeline_id: int)"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def update_pipeline(pipeline_id: int, payload: PipelineUpdate):$/", "language": "Python", "kind": "function", "signature": "(pipeline_id: int, payload: PipelineUpdate)"}, {"_type": "tag", "name": "update_stage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/routes/pipelines.py", "pattern": "/^def update_stage(stage_id: int, payload: PipelineStageUpdate):$/", "language": "Python", "kind": "function", "signature": "(stage_id: int, payload: PipelineStageUpdate)"}], "hash": "d59324fd009cc4c3bbb2bf64a4c48187", "format-version": 4, "code-base-name": "crm_backend", "filename": "crm_backend/src/routes/pipelines.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"46": ""}]}