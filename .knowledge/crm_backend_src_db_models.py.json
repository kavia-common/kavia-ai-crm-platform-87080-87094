{"is_source_file": true, "format": "Python", "description": "This file defines the ORM models for a CRM backend using SQLAlchemy. It includes class definitions for core entities such as Account, Contact, Deal, Pipeline, PipelineStage, ActivityLog, and enumerations for activity types and deal statuses. The models specify table schemas, relationships between entities, and some default values.", "external_files": ["src/db/session.py"], "external_methods": [], "published": ["ActivityType", "DealStageStatus", "Account", "Contact", "Pipeline", "PipelineStage", "Deal", "ActivityLog"], "classes": [{"name": "ActivityType", "description": "Enumeration for different types of activities logged in the CRM (call, email, meeting, note)."}, {"name": "DealStageStatus", "description": "Enumeration for the status of a deal (open, won, lost)."}, {"name": "Account", "description": "Represents a client account with details such as name, industry, website, creation timestamp, and owner. Has relationships to contacts and deals."}, {"name": "Contact", "description": "Represents a contact person linked to an account, with personal details, lead score, and relationships to account, activity logs, and deals."}, {"name": "Pipeline", "description": "Represents a sales pipeline, containing multiple stages, with details like name, description, and creation timestamp."}, {"name": "PipelineStage", "description": "Represents a stage within a pipeline, with properties such as name, probability, order, and relationship to the parent pipeline."}, {"name": "Deal", "description": "Represents a sales deal with fields like name, amount, close date, status, and foreign keys to account, contact, pipeline, and stage, along with related activities."}, {"name": "ActivityLog", "description": "Logs activities related to contacts and deals, such as calls, emails, meetings, with subject, notes, timestamp, and creator info."}], "methods": [], "calls": ["datetime.utcnow"], "search-terms": ["sqlalchemy", "crm", "models", "relationship", "enum.Enum", "ActivityType", "DealStageStatus", "Base", "Column", "relationship"], "state": 2, "file_id": 7, "knowledge_revision": 69, "git_revision": "", "revision_history": [{"16": ""}, {"57": ""}, {"64": ""}, {"69": ""}], "ctags": [{"_type": "tag", "name": "Account", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class Account(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ActivityLog", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class ActivityLog(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ActivityType", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class ActivityType(str, enum.Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Contact", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class Contact(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Deal", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class Deal(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DealStageStatus", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class DealStageStatus(str, enum.Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class Pipeline(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PipelineStage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^class PipelineStage(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"accounts\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"activity_logs\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"contacts\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"deals\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"pipeline_stages\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"pipelines\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "account", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    account = relationship(\"Account\", back_populates=\"contacts\")$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "account", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    account = relationship(\"Account\", back_populates=\"deals\")$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "account_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    account_id = Column(Integer, ForeignKey(\"accounts.id\"), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "account_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    account_id = Column(Integer, ForeignKey(\"accounts.id\"), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "activities", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    activities = relationship(\"ActivityLog\", back_populates=\"contact\", cascade=\"all,delete\")$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "activities", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    activities = relationship(\"ActivityLog\", back_populates=\"deal\", cascade=\"all,delete\")$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "activity_type", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    activity_type = Column(Enum(ActivityType), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    amount = Column(Float, nullable=False, default=0.0)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "call", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    call = \"call\"$/", "language": "Python", "kind": "variable", "scope": "ActivityType", "scopeKind": "class"}, {"_type": "tag", "name": "close_date", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    close_date = Column(Date, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "contact", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    contact = relationship(\"Contact\", back_populates=\"activities\")$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "contact", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    contact = relationship(\"Contact\", back_populates=\"deals\")$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "contact_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    contact_id = Column(Integer, ForeignKey(\"contacts.id\"), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "contact_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    contact_id = Column(Integer, ForeignKey(\"contacts.id\"), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "contacts", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    contacts = relationship(\"Contact\", back_populates=\"account\", cascade=\"all,delete\")$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    created_at = Column(DateTime, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    created_at = Column(DateTime, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    created_at = Column(DateTime, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    created_at = Column(DateTime, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    created_at = Column(DateTime, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "created_by", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    created_by = Column(String(120), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "deal", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    deal = relationship(\"Deal\", back_populates=\"activities\")$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "deal_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    deal_id = Column(Integer, ForeignKey(\"deals.id\"), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    deals = relationship(\"Deal\", back_populates=\"account\", cascade=\"all,delete\")$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    deals = relationship(\"Deal\", back_populates=\"contact\")$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    deals = relationship(\"Deal\", back_populates=\"pipeline\")$/", "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    deals = relationship(\"Deal\", back_populates=\"stage\")$/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    description = Column(Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    email = Column(String(255), nullable=False, unique=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    email = \"email\"$/", "language": "Python", "kind": "variable", "scope": "ActivityType", "scopeKind": "class"}, {"_type": "tag", "name": "first_name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    first_name = Column(String(120), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "industry", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    industry = Column(String(120), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "last_name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    last_name = Column(String(120), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "lead_score", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    lead_score = Column(Float, nullable=True)  # computed by AI$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "lost", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    lost = \"lost\"$/", "language": "Python", "kind": "variable", "scope": "DealStageStatus", "scopeKind": "class"}, {"_type": "tag", "name": "meeting", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    meeting = \"meeting\"$/", "language": "Python", "kind": "variable", "scope": "ActivityType", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    name = Column(String(120), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    name = Column(String(120), nullable=False, unique=True)$/", "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    name = Column(String(255), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    name = Column(String(255), nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    note = \"note\"$/", "language": "Python", "kind": "variable", "scope": "ActivityType", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    notes = Column(Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    open = \"open\"$/", "language": "Python", "kind": "variable", "scope": "DealStageStatus", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    order = Column(Integer, nullable=False, default=0)$/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "owner", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    owner = Column(String(120), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "phone", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    phone = Column(String(40), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    pipeline = relationship(\"Pipeline\", back_populates=\"deals\")$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "pipeline", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    pipeline = relationship(\"Pipeline\", back_populates=\"stages\")$/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "pipeline_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    pipeline_id = Column(Integer, ForeignKey(\"pipelines.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "pipeline_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    pipeline_id = Column(Integer, ForeignKey(\"pipelines.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "probability", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    probability = Column(Float, nullable=False, default=0.1)  # default probability associated w/", "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "stage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    stage = relationship(\"PipelineStage\", back_populates=\"deals\")$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "stage_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    stage_id = Column(Integer, ForeignKey(\"pipeline_stages.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "stages", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    stages = relationship(\"PipelineStage\", back_populates=\"pipeline\", cascade=\"all,delete\")$/", "language": "Python", "kind": "variable", "scope": "Pipeline", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    status = Column(Enum(DealStageStatus), default=DealStageStatus.open, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "subject", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    subject = Column(String(255), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    title = Column(String(120), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "website", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    website = Column(String(255), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "won", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/db/models.py", "pattern": "/^    won = \"won\"$/", "language": "Python", "kind": "variable", "scope": "DealStageStatus", "scopeKind": "class"}], "hash": "3c4f7fe2db8d36ebfc5771076a64127a", "format-version": 4, "code-base-name": "crm_backend", "filename": "crm_backend/src/db/models.py", "fields": [{"name": "__tablename__ = \"accounts\"", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"activity_logs\"", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"contacts\"", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"deals\"", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"pipeline_stages\"", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"pipelines\"", "scope": "Pipeline", "scopeKind": "class", "description": "unavailable"}, {"name": "account = relationship(\"Account\", back_populates=\"contacts\")", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "account = relationship(\"Account\", back_populates=\"deals\")", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "account_id = Column(Integer, ForeignKey(\"accounts.id\"), nullable=True)", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "activities = relationship(\"ActivityLog\", back_populates=\"contact\", cascade=\"all,delete\")", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "activities = relationship(\"ActivityLog\", back_populates=\"deal\", cascade=\"all,delete\")", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "activity_type = Column(Enum(ActivityType), nullable=False)", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "amount = Column(Float, nullable=False, default=0.0)", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "call = \"call\"", "scope": "ActivityType", "scopeKind": "class", "description": "unavailable"}, {"name": "close_date = Column(Date, nullable=True)", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "contact = relationship(\"Contact\", back_populates=\"activities\")", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "contact = relationship(\"Contact\", back_populates=\"deals\")", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "contact_id = Column(Integer, ForeignKey(\"contacts.id\"), nullable=True)", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "contacts = relationship(\"Contact\", back_populates=\"account\", cascade=\"all,delete\")", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = Column(DateTime, default=datetime.utcnow)", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "created_by = Column(String(120), nullable=True)", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "deal = relationship(\"Deal\", back_populates=\"activities\")", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "deal_id = Column(Integer, ForeignKey(\"deals.id\"), nullable=True)", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "deals = relationship(\"Deal\", back_populates=\"account\", cascade=\"all,delete\")", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "deals = relationship(\"Deal\", back_populates=\"contact\")", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "deals = relationship(\"Deal\", back_populates=\"pipeline\")", "scope": "Pipeline", "scopeKind": "class", "description": "unavailable"}, {"name": "deals = relationship(\"Deal\", back_populates=\"stage\")", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "description = Column(Text, nullable=True)", "scope": "Pipeline", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String(255), nullable=False, unique=True, index=True)", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "email = \"email\"", "scope": "ActivityType", "scopeKind": "class", "description": "unavailable"}, {"name": "first_name = Column(String(120), nullable=False)", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True, index=True)", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "industry = Column(String(120), nullable=True)", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "last_name = Column(String(120), nullable=False)", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "lead_score = Column(Float, nullable=True)  # computed by AI", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "lost = \"lost\"", "scope": "DealStageStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "meeting = \"meeting\"", "scope": "ActivityType", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(120), nullable=False)", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(120), nullable=False, unique=True)", "scope": "Pipeline", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(255), nullable=False)", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "name = Column(String(255), nullable=False, index=True)", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "note = \"note\"", "scope": "ActivityType", "scopeKind": "class", "description": "unavailable"}, {"name": "notes = Column(Text, nullable=True)", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "open = \"open\"", "scope": "DealStageStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "order = Column(Integer, nullable=False, default=0)", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "owner = Column(String(120), nullable=True)", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "phone = Column(String(40), nullable=True)", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "pipeline = relationship(\"Pipeline\", back_populates=\"deals\")", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "pipeline = relationship(\"Pipeline\", back_populates=\"stages\")", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "pipeline_id = Column(Integer, ForeignKey(\"pipelines.id\"), nullable=False)", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "probability = Column(Float, nullable=False, default=0.1)  # default probability associated w/", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "stage = relationship(\"PipelineStage\", back_populates=\"deals\")", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "stage_id = Column(Integer, ForeignKey(\"pipeline_stages.id\"), nullable=False)", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "stages = relationship(\"PipelineStage\", back_populates=\"pipeline\", cascade=\"all,delete\")", "scope": "Pipeline", "scopeKind": "class", "description": "unavailable"}, {"name": "status = Column(Enum(DealStageStatus), default=DealStageStatus.open, nullable=False)", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "subject = Column(String(255), nullable=True)", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "title = Column(String(120), nullable=True)", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "website = Column(String(255), nullable=True)", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "won = \"won\"", "scope": "DealStageStatus", "scopeKind": "class", "description": "unavailable"}]}