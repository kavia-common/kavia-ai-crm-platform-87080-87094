{"is_source_file": true, "format": "Python", "description": "This file contains SQLAlchemy ORM model definitions for core CRM entities including Account, Contact, Deal, PipelineStage, ActivityLog, and timestamp mixin, along with related enumerations and database configurations.", "external_files": ["src.core.database"], "external_methods": [], "published": ["Account", "Contact", "Deal", "PipelineStage", "ActivityLog", "TimestampMixin", "DealStatusEnum", "ActivityTypeEnum"], "classes": [{"name": "TimestampMixin", "description": "Mixin class providing created_at and updated_at timestamp fields."}, {"name": "Account", "description": "ORM model representing an organization or company owning deals and contacts."}, {"name": "Contact", "description": "ORM model representing a person linked to an account, potential lead or customer contact."}, {"name": "PipelineStage", "description": "ORM model representing stages in the sales pipeline."}, {"name": "Deal", "description": "ORM model representing a sales opportunity linked to an account and optionally a primary contact."}, {"name": "ActivityLog", "description": "ORM model for notes, interactions, and activities related to contacts and deals."}], "methods": [], "calls": ["func.now()"], "search-terms": ["crm_models", "SQLAlchemy", "CRM entities", "Account model", "Contact model", "Deal model", "PipelineStage model", "ActivityLog model", "TimestampMixin"], "state": 2, "file_id": 7, "knowledge_revision": 15, "git_revision": "", "ctags": [{"_type": "tag", "name": "Account", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class Account(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ActivityLog", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class ActivityLog(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ActivityTypeEnum", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class ActivityTypeEnum(str):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CALL", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    CALL = \"call\"$/", "language": "Python", "kind": "variable", "scope": "ActivityTypeEnum", "scopeKind": "class"}, {"_type": "tag", "name": "Contact", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class Contact(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Deal", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class Deal(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DealStatusEnum", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class DealStatusEnum(str):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "EMAIL", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    EMAIL = \"email\"$/", "language": "Python", "kind": "variable", "scope": "ActivityTypeEnum", "scopeKind": "class"}, {"_type": "tag", "name": "LOST", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    LOST = \"lost\"$/", "language": "Python", "kind": "variable", "scope": "DealStatusEnum", "scopeKind": "class"}, {"_type": "tag", "name": "MEETING", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    MEETING = \"meeting\"$/", "language": "Python", "kind": "variable", "scope": "ActivityTypeEnum", "scopeKind": "class"}, {"_type": "tag", "name": "NOTE", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    NOTE = \"note\"$/", "language": "Python", "kind": "variable", "scope": "ActivityTypeEnum", "scopeKind": "class"}, {"_type": "tag", "name": "ON_HOLD", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    ON_HOLD = \"on_hold\"$/", "language": "Python", "kind": "variable", "scope": "DealStatusEnum", "scopeKind": "class"}, {"_type": "tag", "name": "OPEN", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    OPEN = \"open\"$/", "language": "Python", "kind": "variable", "scope": "DealStatusEnum", "scopeKind": "class"}, {"_type": "tag", "name": "PipelineStage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class PipelineStage(Base, TimestampMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TASK", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    TASK = \"task\"$/", "language": "Python", "kind": "variable", "scope": "ActivityTypeEnum", "scopeKind": "class"}, {"_type": "tag", "name": "TimestampMixin", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^class TimestampMixin:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WON", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    WON = \"won\"$/", "language": "Python", "kind": "variable", "scope": "DealStatusEnum", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "__table_args__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __table_args__ = ($/", "file": true, "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __tablename__ = \"accounts\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __tablename__ = \"activity_logs\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __tablename__ = \"contacts\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __tablename__ = \"deals\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    __tablename__ = \"pipeline_stages\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "account", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    account: Mapped[Optional[Account]] = relationship(back_populates=\"contacts\")$/", "language": "Python", "typeref": "typename:Mapped[Optional[Account]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "account", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    account: Mapped[\"Account\"] = relationship(back_populates=\"deals\")$/", "language": "Python", "typeref": "typename:Mapped[\"Account\"]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "account_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    account_id: Mapped[Optional[int]] = mapped_column(ForeignKey(\"accounts.id\", ondelete=\"SET NU/", "language": "Python", "typeref": "typename:Mapped[Optional[int]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "account_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    account_id: Mapped[int] = mapped_column(ForeignKey(\"accounts.id\", ondelete=\"CASCADE\"), index/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "activities", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    activities: Mapped[List[\"ActivityLog\"]] = relationship(back_populates=\"deal\", cascade=\"all, /", "language": "Python", "typeref": "typename:Mapped[List[\"ActivityLog\"]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    amount: Mapped[float] = mapped_column(Float, nullable=False, default=0.0)$/", "language": "Python", "typeref": "typename:Mapped[float]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    completed: Mapped[bool] = mapped_column(Boolean, default=False, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[bool]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "contact", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    contact: Mapped[Optional[\"Contact\"]] = relationship()$/", "language": "Python", "typeref": "typename:Mapped[Optional[\"Contact\"]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "contact_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    contact_id: Mapped[Optional[int]] = mapped_column(ForeignKey(\"contacts.id\", ondelete=\"SET NU/", "language": "Python", "typeref": "typename:Mapped[Optional[int]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "contacts", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    contacts: Mapped[List[\"Contact\"]] = relationship(back_populates=\"account\", cascade=\"all, del/", "language": "Python", "typeref": "typename:Mapped[List[\"Contact\"]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    content: Mapped[Optional[str]] = mapped_column(Text)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), server_default=func.no/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "TimestampMixin", "scopeKind": "class"}, {"_type": "tag", "name": "currency", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    currency: Mapped[str] = mapped_column(String(10), default=\"USD\", nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "deal", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    deal: Mapped[Optional[\"Deal\"]] = relationship(back_populates=\"activities\")$/", "language": "Python", "typeref": "typename:Mapped[Optional[\"Deal\"]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "deal_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    deal_id: Mapped[Optional[int]] = mapped_column(ForeignKey(\"deals.id\", ondelete=\"CASCADE\"), i/", "language": "Python", "typeref": "typename:Mapped[Optional[int]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    deals: Mapped[List[\"Deal\"]] = relationship(back_populates=\"account\", cascade=\"all, delete-or/", "language": "Python", "typeref": "typename:Mapped[List[\"Deal\"]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    deals: Mapped[List[\"Deal\"]] = relationship(back_populates=\"primary_contact\", cascade=\"all, s/", "language": "Python", "typeref": "typename:Mapped[List[\"Deal\"]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "deals", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    deals: Mapped[List[\"Deal\"]] = relationship(back_populates=\"stage\")$/", "language": "Python", "typeref": "typename:Mapped[List[\"Deal\"]]", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    description: Mapped[Optional[str]] = mapped_column(Text)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "domain", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    domain: Mapped[Optional[str]] = mapped_column(String(255), index=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "due_date", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    due_date: Mapped[Optional[date]] = mapped_column(Date)  # For tasks$/", "language": "Python", "typeref": "typename:Mapped[Optional[date]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    email: Mapped[Optional[str]] = mapped_column(String(255), index=True, unique=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "expected_close_date", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    expected_close_date: Mapped[Optional[date]] = mapped_column(Date)$/", "language": "Python", "typeref": "typename:Mapped[Optional[date]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "first_name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    first_name: Mapped[str] = mapped_column(String(100), nullable=False, index=True)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "industry", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    industry: Mapped[Optional[str]] = mapped_column(String(100))$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    is_active: Mapped[bool] = mapped_column(Boolean, default=True, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[bool]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "is_default", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    is_default: Mapped[bool] = mapped_column(Boolean, default=False, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[bool]", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "last_name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    last_name: Mapped[str] = mapped_column(String(100), nullable=False, index=True)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "lead_source", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    lead_source: Mapped[Optional[str]] = mapped_column(String(100))$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    name: Mapped[str] = mapped_column(String(100), nullable=False, unique=True)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    name: Mapped[str] = mapped_column(String(255), nullable=False, index=True)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    name: Mapped[str] = mapped_column(String(255), nullable=False, index=True)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    order: Mapped[int] = mapped_column(Integer, nullable=False, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "PipelineStage", "scopeKind": "class"}, {"_type": "tag", "name": "owner_user_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    owner_user_id: Mapped[Optional[str]] = mapped_column(String(64), index=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "owner_user_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    owner_user_id: Mapped[Optional[str]] = mapped_column(String(64), index=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "performed_by_user_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    performed_by_user_id: Mapped[Optional[str]] = mapped_column(String(64), index=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "phone", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    phone: Mapped[Optional[str]] = mapped_column(String(50))$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "primary_contact", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    primary_contact: Mapped[Optional[\"Contact\"]] = relationship(back_populates=\"deals\")$/", "language": "Python", "typeref": "typename:Mapped[Optional[\"Contact\"]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "primary_contact_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    primary_contact_id: Mapped[Optional[int]] = mapped_column(ForeignKey(\"contacts.id\", ondelete/", "language": "Python", "typeref": "typename:Mapped[Optional[int]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "probability", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    probability: Mapped[Optional[float]] = mapped_column(Float)  # 0-100$/", "language": "Python", "typeref": "typename:Mapped[Optional[float]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "size", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    size: Mapped[Optional[str]] = mapped_column(String(50))$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Account", "scopeKind": "class"}, {"_type": "tag", "name": "stage", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    stage: Mapped[Optional[\"PipelineStage\"]] = relationship(back_populates=\"deals\")$/", "language": "Python", "typeref": "typename:Mapped[Optional[\"PipelineStage\"]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "stage_id", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    stage_id: Mapped[Optional[int]] = mapped_column(ForeignKey(\"pipeline_stages.id\", ondelete=\"S/", "language": "Python", "typeref": "typename:Mapped[Optional[int]]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    status: Mapped[str] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Deal", "scopeKind": "class"}, {"_type": "tag", "name": "subject", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    subject: Mapped[Optional[str]] = mapped_column(String(255))$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    title: Mapped[Optional[str]] = mapped_column(String(100))$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Contact", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    type: Mapped[str] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "ActivityLog", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/kavia-ai-crm-platform-87080-87094/crm_backend/src/models/crm_models.py", "pattern": "/^    updated_at: Mapped[datetime] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "TimestampMixin", "scopeKind": "class"}], "hash": "41b3f1ec4dd1309d1a38e8817efec566", "format-version": 4, "code-base-name": "crm_backend", "filename": "crm_backend/src/models/crm_models.py", "fields": [{"name": "CALL = \"call\"", "scope": "ActivityTypeEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "EMAIL = \"email\"", "scope": "ActivityTypeEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "LOST = \"lost\"", "scope": "DealStatusEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "MEETING = \"meeting\"", "scope": "ActivityTypeEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "NOTE = \"note\"", "scope": "ActivityTypeEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "ON_HOLD = \"on_hold\"", "scope": "DealStatusEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "OPEN = \"open\"", "scope": "DealStatusEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "TASK = \"task\"", "scope": "ActivityTypeEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "WON = \"won\"", "scope": "DealStatusEnum", "scopeKind": "class", "description": "unavailable"}, {"name": "__table_args__ = (", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"accounts\"", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"activity_logs\"", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"contacts\"", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"deals\"", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"pipeline_stages\"", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[Account]] account", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[\"Account\"] account", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[int]] account_id", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] account_id", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[List[\"ActivityLog\"]] activities", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[float] amount", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[bool] completed", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[\"Contact\"]] contact", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[int]] contact_id", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[List[\"Contact\"]] contacts", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] content", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] created_at", "scope": "TimestampMixin", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] currency", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[\"Deal\"]] deal", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[int]] deal_id", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[List[\"Deal\"]] deals", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] description", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] domain", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[date]] due_date", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] email", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[date]] expected_close_date", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] first_name", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] id", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] industry", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[bool] is_active", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[bool] is_default", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] last_name", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] lead_source", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] name", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] order", "scope": "PipelineStage", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] owner_user_id", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] performed_by_user_id", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] phone", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[\"Contact\"]] primary_contact", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[int]] primary_contact_id", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[float]] probability", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] size", "scope": "Account", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[\"PipelineStage\"]] stage", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[int]] stage_id", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] status", "scope": "Deal", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] subject", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] title", "scope": "Contact", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] type", "scope": "ActivityLog", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] updated_at", "scope": "TimestampMixin", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"15": ""}]}